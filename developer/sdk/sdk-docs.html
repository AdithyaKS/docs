
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>SDK documentation Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../../styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    
    <link rel="prev" href="sdk-conceptual-model.html" />
    

    
        <link rel="shortcut icon" href='../../assets/images/favicon/favicon.ico' type="image/x-icon">
    
    
        <link rel="bookmark" href='../../assets/images/favicon/favicon.ico' type="image/x-icon">
    
    
        <link rel="apple-touch-icon" href='../../assets/images/favicon/android-chrome-36x36.png'>
    
    

    </head>
    <body>
        
    <header class="w-header">
      <a href="/">
        <img src="/assets/images/layout/workato-logo.svg" alt="Workato docs" width="184" height="30">
      </a>
      <a href="//workato.com" class="w-header__return">Return to workato.com</a>
    </header>

    
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../getting-started.html">
            
                <a href="../../getting-started.html">
            
                    
                    Getting started
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../../what-is-workato.html">
            
                <a href="../../what-is-workato.html">
            
                    
                    What is Workato?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../../workato-concepts.html">
            
                <a href="../../workato-concepts.html">
            
                    
                    Workato concepts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" >
            
                <span>
            
                    
                    How do I start?
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.3.1" >
            
                <span>
            
                    
                    Recipe building guide: Salesforce to Zendesk
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.2" >
            
                <span>
            
                    
                    Conceptual model/flowchart of the thinking process behind building a recipe
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../../contact-us.html">
            
                <a href="../../contact-us.html">
            
                    
                    Contact us
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../../user-accounts-and-teams.html">
            
                <a href="../../user-accounts-and-teams.html">
            
                    
                    User accounts and teams
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../../user-accounts-and-teams/sso.html">
            
                <a href="../../user-accounts-and-teams/sso.html">
            
                    
                    Single Sign-On
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../../user-accounts-and-teams/team-collaboration.html">
            
                <a href="../../user-accounts-and-teams/team-collaboration.html">
            
                    
                    Team collaboration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../../user-accounts-and-teams/team-collaboration.html">
            
                <a href="../../user-accounts-and-teams/team-collaboration.html#team-roles">
            
                    
                    Role based access
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../../user-accounts-and-teams/team-collaboration.html">
            
                <a href="../../user-accounts-and-teams/team-collaboration.html#audit-logs">
            
                    
                    Audit logs
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../../recipes.html">
            
                <a href="../../recipes.html">
            
                    
                    Recipes
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../../recipes/connections.html">
            
                <a href="../../recipes/connections.html">
            
                    
                    Connections
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../../recipes/building-recipes.html">
            
                <a href="../../recipes/building-recipes.html">
            
                    
                    Building recipes
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.2.1" data-path="../../recipes/triggers.html">
            
                <a href="../../recipes/triggers.html">
            
                    
                    Triggers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.2" data-path="../../recipes/steps.html">
            
                <a href="../../recipes/steps.html">
            
                    
                    Steps
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.3" data-path="../../recipes/actions.html">
            
                <a href="../../recipes/actions.html">
            
                    
                    Actions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.4" >
            
                <span>
            
                    
                    Data types
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.5" >
            
                <span>
            
                    
                    Mapping
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.6" data-path="../../recipes/formula.html">
            
                <a href="../../recipes/formula.html">
            
                    
                    Formula
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.7" data-path="../../recipes/recipe-version-management.html">
            
                <a href="../../recipes/recipe-version-management.html">
            
                    
                    Recipe version management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.8" data-path="../../recipes/building-best-practices.html">
            
                <a href="../../recipes/building-best-practices.html">
            
                    
                    Best practices
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../../recipes/running-recipes.html">
            
                <a href="../../recipes/running-recipes.html">
            
                    
                    Running recipes
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.3.1" data-path="../../recipes/job-details.html">
            
                <a href="../../recipes/job-details.html">
            
                    
                    Job details
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.2" data-path="../../recipes/testing-recipes.html">
            
                <a href="../../recipes/testing-recipes.html">
            
                    
                    Test recipe
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.3" data-path="../../recipes/start-and-stop.html">
            
                <a href="../../recipes/start-and-stop.html">
            
                    
                    Start and stop
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.4" data-path="../../recipes/polling-intervals.html">
            
                <a href="../../recipes/polling-intervals.html">
            
                    
                    Polling intervals
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.5" data-path="../../recipes/rerun-job.html">
            
                <a href="../../recipes/rerun-job.html">
            
                    
                    Rerun job
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../../recipe-ops.html">
            
                <a href="../../recipe-ops.html">
            
                    
                    Recipe Ops
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../../features.html">
            
                <a href="../../features.html">
            
                    
                    Features
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../../features/list-management.html">
            
                <a href="../../features/list-management.html">
            
                    
                    List management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../../features/scheduler.html">
            
                <a href="../../features/scheduler.html">
            
                    
                    Scheduler
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../../features/utilities.html">
            
                <a href="../../features/utilities.html">
            
                    
                    Utility
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../../features/secondary-connectors.html">
            
                <a href="../../features/secondary-connectors.html">
            
                    
                    Secondary connectors
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="../../features/batch-processing.html">
            
                <a href="../../features/batch-processing.html">
            
                    
                    Batch processing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="../../features/lookup-tables.html">
            
                <a href="../../features/lookup-tables.html">
            
                    
                    Lookup tables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7" >
            
                <span>
            
                    
                    Linked objects
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.8" data-path="../../features/callable-recipes.html">
            
                <a href="../../features/callable-recipes.html">
            
                    
                    Callable recipes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.9" data-path="../../features/handling-csv-files.html">
            
                <a href="../../features/handling-csv-files.html">
            
                    
                    Handling CSV files
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.10" data-path="../../features/handling-files-and-attachments.html">
            
                <a href="../../features/handling-files-and-attachments.html">
            
                    
                    Handling files and attachments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.11" >
            
                <span>
            
                    
                    Handling JSON
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.12" >
            
                <span>
            
                    
                    Handling XML
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.13" data-path="../../features/account-properties.html">
            
                <a href="../../features/account-properties.html">
            
                    
                    Account properties
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.14" data-path="../../features/data-masking.html">
            
                <a href="../../features/data-masking.html">
            
                    
                    Data masking
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../../on-prem.html">
            
                <a href="../../on-prem.html">
            
                    
                    On premise
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../../workflow.html">
            
                <a href="../../workflow.html">
            
                    
                    Workflow
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../../workbot/workbot.html">
            
                <a href="../../workbot/workbot.html">
            
                    
                    Workbot
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../../workbot/workbot-triggers.md">
            
                <span>
            
                    
                    Workbot triggers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../../workbot/workbot-actions.html">
            
                <a href="../../workbot/workbot-actions.html">
            
                    
                    Workbot actions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../../workbot/workbot-troubleshooting.html">
            
                <a href="../../workbot/workbot-troubleshooting.html">
            
                    
                    Workbot troubleshooting
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" >
            
                <span>
            
                    
                    API gateway
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../../connectors.html">
            
                <a href="../../connectors.html">
            
                    
                    Connectors documentation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" >
            
                <span>
            
                    
                    Overview
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="../../connectors/s3.html">
            
                <a href="../../connectors/s3.html">
            
                    
                    Amazon S3
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="../../connectors/box.html">
            
                <a href="../../connectors/box.html">
            
                    
                    Box
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="../../connectors/docusign.html">
            
                <a href="../../connectors/docusign.html">
            
                    
                    DocuSign
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.5" data-path="../../connectors/jira.html">
            
                <a href="../../connectors/jira.html">
            
                    
                    JIRA
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.6" data-path="../../connectors/quickbooks.html">
            
                <a href="../../connectors/quickbooks.html">
            
                    
                    QuickBooks Online
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.7" data-path="../../connectors/salesforce.html">
            
                <a href="../../connectors/salesforce.html">
            
                    
                    Salesforce
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.8" data-path="../../connectors/servicenow.html">
            
                <a href="../../connectors/servicenow.html">
            
                    
                    ServiceNow
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.9" data-path="../../connectors/surveymonkey.html">
            
                <a href="../../connectors/surveymonkey.html">
            
                    
                    SurveyMonkey
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.10" >
            
                <span>
            
                    
                    Google Sheets
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.11" >
            
                <span>
            
                    
                    Netsuite
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.12" >
            
                <span>
            
                    
                    Google Mail
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.13" >
            
                <span>
            
                    
                    Clock
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.14" >
            
                <span>
            
                    
                    Utility
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.15" >
            
                <span>
            
                    
                    Email
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.16" >
            
                <span>
            
                    
                    Eventbrite
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.17" >
            
                <span>
            
                    
                    Outlook
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.18" >
            
                <span>
            
                    
                    Google Calendar
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.19" >
            
                <span>
            
                    
                    Quickbase
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.20" >
            
                <span>
            
                    
                    Xero
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.21" >
            
                <span>
            
                    
                    Intacct
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.22" >
            
                <span>
            
                    
                    Slack
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.23" >
            
                <span>
            
                    
                    MySQL
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.24" >
            
                <span>
            
                    
                    SQL Server
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../../troubleshooting.html">
            
                <a href="../../troubleshooting.html">
            
                    
                    Troubleshooting
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" >
            
                <span>
            
                    
                    Trigger warnings
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="../../recipes/action-errors.html">
            
                <a href="../../recipes/action-errors.html">
            
                    
                    Action errors
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.3" data-path="../../recipes/formula-errors.html">
            
                <a href="../../recipes/formula-errors.html">
            
                    
                    Formula errors
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.4" >
            
                <span>
            
                    
                    Mapping errors
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.5" data-path="../../recipes/infinite-loops.html">
            
                <a href="../../recipes/infinite-loops.html">
            
                    
                    Infinite loops
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.6" data-path="../../recipes/deduplication.html">
            
                <a href="../../recipes/deduplication.html">
            
                    
                    Deduplication
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.7" data-path="../../recipes/rate-limiting.html">
            
                <a href="../../recipes/rate-limiting.html">
            
                    
                    Rate limiting
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="../../developer.html">
            
                <a href="../../developer.html">
            
                    
                    Developer
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" >
            
                <span>
            
                    
                    Conceptual model
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="../http-vs-sdk.html">
            
                <a href="../http-vs-sdk.html">
            
                    
                    Comparison of HTTP VS SDK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3" data-path="../http.html">
            
                <a href="../http.html">
            
                    
                    HTTP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.4" >
            
                <span>
            
                    
                    SDK
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.4.1" data-path="sdk-conceptual-model.html">
            
                <a href="sdk-conceptual-model.html">
            
                    
                    Conceptual model
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.12.4.2" data-path="sdk-docs.html">
            
                <a href="sdk-docs.html">
            
                    
                    SDK documentation
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12.5" >
            
                <span>
            
                    
                    Platform API
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" >
            
                <span>
            
                    
                    Recipe Development Life Cycle
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" >
            
                <span>
            
                    
                    Model/diagram of the RDLC
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2" >
            
                <span>
            
                    
                    Sandbox*Production
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.2" >
            
                <a target="_blank" href="https://www.workato.com/security">
            
                    
                    Security and compliance
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../../data-retention.html">
            
                <a href="../../data-retention.html">
            
                    
                    Data retention
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" >
            
                <span>
            
                    
                    Scalability and performance
            
                </span>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >SDK documentation</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <p><a href="https://www.workato.com" target="_blank"><img src="../../assets/images/workato_developer_program.png" alt="Workato"></a></p>
<h1 id="introduction">Introduction</h1>
<p>Here you will find the documentation you need to build application adapters using our SDK.</p>
<h2 id="recipe">Recipe</h2>
<p>A Workato recipe is a set of predefined instructions to be executed. It is made up of a trigger and one or more actions.</p>
<p>It execute a variety of tasks to all the applications supported by the Workato platform.</p>
<h2 id="trigger">Trigger</h2>
<p>Defines an event that triggers the execution of a Workato recipe</p>
<h2 id="action">Action</h2>
<p>Steps that will be executed when a recipe is triggered.</p>
<p>There are 4 types of actions:</p>
<ol>
<li><strong>Action</strong><ul>
<li>Basic actions perform tasks like Search, Create, Update</li>
</ul>
</li>
<li><strong>Conditional action</strong><ul>
<li>These actions behave like traffic control. They provide users with the capability to restrict certain actions based on conditions.</li>
<li>Example: Create a new Account only if it does not already exist</li>
</ul>
</li>
<li><strong>Repeat action</strong><ul>
<li>Repeat actions are simple loops. They perform predefined tasks multiple times based on an array (list) of records.</li>
<li>Example: Add line items in QuickBooks for each opportunity item in Salesforce</li>
</ul>
</li>
<li><strong>Stop</strong><ul>
<li>Allows users to terminate a run of the recipe (a job). This is useful if you wish to stop performing any actions if a certain condition is met.</li>
<li>Optionally, you can define an error for this action. What this does is let you generate exceptions in certain scenarios. These jobs that stops with errors will show up in job history as errors</li>
</ul>
</li>
</ol>
<h2 id="adapter">Adapter</h2>
<p>An Adapter is a connector to an application. Each Adapter has one or more trigger and actions. When an action or trigger is executed, it performs it&apos;s respective function with the account instance connected to that application.</p>
<h1 id="connector-sdk">Connector SDK</h1>
<h2 id="custom-adapters">Custom Adapters</h2>
<p>Connectors built on the SDK are called <strong>custom adapters</strong>. These connectors have private scope. This means that they are only available to the connector owner.</p>
<p>To enable global scope for this connector, the code will need to go through review. You can begin this process by submitting a pull request to our <a href="https://github.com/workato/connector_sdk" target="_blank">repository</a>.</p>
<h2 id="requirements">Requirements</h2>
<h3 id="rest-architecture">REST Architecture</h3>
<p>Presently, only RESTful APIs are supported by the Connector SDK.</p>
<h3 id="format">Format</h3>
<p>Presently, we support the following types</p>
<ul>
<li>JSON</li>
<li>XML</li>
</ul>
<h3 id="bonus">Bonus</h3>
<h4 id="pagination">Pagination</h4>
<p>Pagination helps with response data that is more manageable. It is definitely a bonus if the intended API supports that.</p>
<h4 id="query">Query</h4>
<p>It is very useful to be able to query resources instead of locating them based on IDs. With Search by query, the API allows you to return a list of results that matches your field criterias. You may also want to look out for the ability to query based on created/updated time which will be crucial when building out your triggers.</p>
<h2 id="authentication">Authentication</h2>
<h3 id="basic-authentication">Basic Authentication</h3>
<h4 id="standard">Standard</h4>
<p>Typically, a basic authentication requires a username and password combination when making requests. Make sure to include those two fields in the connection fields definition.</p>
<pre><code class="lang-ruby"><span class="hljs-symbol">connection:</span> {

  <span class="hljs-symbol">fields:</span> [
    {
      <span class="hljs-symbol">name:</span> <span class="hljs-string">&quot;username&quot;</span>,
      <span class="hljs-symbol">hint:</span> <span class="hljs-string">&quot;Your email used for login&quot;</span>
    },
    {
      <span class="hljs-symbol">name:</span> <span class="hljs-string">&quot;password&quot;</span>,
      <span class="hljs-symbol">optional:</span> <span class="hljs-keyword">false</span>,
      <span class="hljs-symbol">control_type:</span> <span class="hljs-string">&quot;password&quot;</span>,
    }
  ],

  <span class="hljs-symbol">authorization:</span> {
    <span class="hljs-symbol">type:</span> <span class="hljs-string">&quot;basic_auth&quot;</span>,

    <span class="hljs-symbol">credentials:</span> lambda <span class="hljs-keyword">do</span> |connection|
      user(connection[<span class="hljs-string">&quot;username&quot;</span>])
      password(connection[<span class="hljs-string">&quot;password&quot;</span>])
    <span class="hljs-keyword">end</span>
  }
}
</code></pre>
<p>To set up a basic authentication, simply define type: &apos;basic_auth&apos; and include the appropriate values in <code>user()</code> and <code>password()</code> in the credentials section. All requests made through the connector will contain the values defined in credentials.</p>
<h4 id="variations">Variations</h4>
<p>Some APIs expect different conventions from a standard basic authentication.</p>
<pre><code class="lang-ruby"><span class="hljs-symbol">connection:</span> {
  <span class="hljs-symbol">fields:</span> [
    {
      <span class="hljs-symbol">name:</span> <span class="hljs-string">&quot;api_key&quot;</span>,
      <span class="hljs-symbol">optional:</span> <span class="hljs-keyword">false</span>,
      <span class="hljs-symbol">hint:</span> <span class="hljs-string">&quot;Profile (top right) &gt; Settings &gt; Your API Keys&quot;</span>
    }
  ],

  <span class="hljs-symbol">authorization:</span> {
    <span class="hljs-symbol">type:</span> <span class="hljs-string">&quot;basic_auth&quot;</span>,

    <span class="hljs-comment"># close.io uses api key only for authentication. treats apikey as username and password left blank</span>
    <span class="hljs-comment"># curl -u &quot;{your api_key}:&quot; &quot;https://app.close.io/api/v1/me/&quot;</span>
    <span class="hljs-symbol">credentials:</span> lambda <span class="hljs-keyword">do</span> |connection|
      user(connection[<span class="hljs-string">&quot;api_key&quot;</span>])
      password(<span class="hljs-string">&quot;&quot;</span>)
    <span class="hljs-keyword">end</span>
  }
}
</code></pre>
<p>In this example Close.io API expects an API Key generated in the individual User&#x2019;s account. It should be used as a username with a blank password in the standard basic authentication format.</p>
<p>So, to adjust the connections portion of the code to suit this behaviour, simply request for an API instead of username + password.</p>
<p>In the credentials section, pass the api_key into <code>user()</code> and an empty string (&#x201C;&#x201D;) to <code>password()</code></p>
<pre><code class="lang-ruby"><span class="hljs-symbol">connection:</span> {

  <span class="hljs-symbol">fields:</span> [
    {
      <span class="hljs-symbol">name:</span> <span class="hljs-string">&quot;api_token&quot;</span>,
      <span class="hljs-symbol">control_type:</span> <span class="hljs-string">&quot;password&quot;</span>,
      <span class="hljs-symbol">label:</span> <span class="hljs-string">&quot;API token&quot;</span>,
      <span class="hljs-symbol">optional:</span> <span class="hljs-keyword">false</span>,
      <span class="hljs-symbol">hint:</span> <span class="hljs-string">&quot;Available in &apos;My Profile&apos; page&quot;</span>
    }
  ],

  <span class="hljs-symbol">authorization:</span> {
    <span class="hljs-symbol">type:</span> <span class="hljs-string">&quot;basic_auth&quot;</span>,

    <span class="hljs-comment"># Toggl API expect the token to be sent as user name and the string &apos;api_token&apos; as the password</span>
    <span class="hljs-comment"># curl -u &quot;{your api_token}:api_token&quot; &quot;https://www.toggl.com/api/v8/me&quot;</span>
    <span class="hljs-symbol">credentials:</span> lambda <span class="hljs-keyword">do</span> |connection|
      user(connection[<span class="hljs-string">&quot;api_token&quot;</span>])
      password(<span class="hljs-string">&quot;api_token&quot;</span>)
    <span class="hljs-keyword">end</span>
  }
}
</code></pre>
<p>Another variation is to have a generated api_token replace the user name and have the string &#x201C;api_token&#x201D; replacing password in the basic authentication format.</p>
<h3 id="api-key-authentication">API Key Authentication</h3>
<p>For APIs that expect API Key authentication, it is a slight variation from the basic authentication code above.</p>
<p>Make sure to include the required inputs from the user (subdomain, api_key, scope etc)</p>
<p>Define</p>
<ol>
<li>type: &quot;api_key&quot;</li>
<li>the appropriate parameter name for the api_key. In this case, it is simply &quot;api_key&quot;</li>
</ol>
<p>After defining this, calls will have the appropriate params appended.</p>
<p>Example:
<code>&lt;BASE_URL&gt;/users?api_key=NB674921</code></p>
<pre><code class="lang-ruby"><span class="hljs-symbol">connection:</span> {

  <span class="hljs-symbol">fields:</span> [
    {
      <span class="hljs-symbol">name:</span> <span class="hljs-string">&quot;helpdesk&quot;</span>,
      <span class="hljs-symbol">control_type:</span> <span class="hljs-string">&quot;subdomain&quot;</span>,
      <span class="hljs-symbol">url:</span> <span class="hljs-string">&quot;.freshdesk.com&quot;</span>,
      <span class="hljs-symbol">optional:</span> <span class="hljs-keyword">false</span>,
      <span class="hljs-symbol">hint:</span> <span class="hljs-string">&quot;Your helpdesk name as found in your Freshdesk URL&quot;</span>
    },
    {
      <span class="hljs-symbol">name:</span> <span class="hljs-string">&quot;api_key&quot;</span>,
      <span class="hljs-symbol">control_type:</span> <span class="hljs-string">&quot;password&quot;</span>,
      <span class="hljs-symbol">optional:</span> <span class="hljs-keyword">false</span>,
      <span class="hljs-symbol">label:</span> <span class="hljs-string">&quot;API key&quot;</span>
    }
  ],

  <span class="hljs-symbol">authorization:</span> {
    <span class="hljs-symbol">type:</span> <span class="hljs-string">&quot;api_key&quot;</span>,

    <span class="hljs-symbol">credentials:</span> lambda <span class="hljs-keyword">do</span> |connection|
      params(<span class="hljs-symbol">api_key:</span> connection[<span class="hljs-string">&quot;api_key&quot;</span>])
    <span class="hljs-keyword">end</span>
  }
}
</code></pre>
<h3 id="oauth-20">OAuth 2.0</h3>
<p>For a more secure method of authentication, we recommend using <a href="https://tools.ietf.org/html/rfc6749" target="_blank">OAuth 2.0</a>. It is an open standard and is generally a more secure way for users to log into third party websites without exposing their credentials.</p>
<pre><code class="lang-ruby"><span class="hljs-symbol">connection:</span> {

  <span class="hljs-symbol">authorization:</span> {
    <span class="hljs-symbol">type:</span> <span class="hljs-string">&quot;oauth2&quot;</span>,

    <span class="hljs-symbol">authorization_url:</span> lambda <span class="hljs-keyword">do</span>
      <span class="hljs-string">&quot;https://www.pushbullet.com/authorize?response_type=code&quot;</span>
    <span class="hljs-keyword">end</span>,

    <span class="hljs-symbol">token_url:</span> lambda <span class="hljs-keyword">do</span>
      <span class="hljs-string">&quot;https://api.pushbullet.com/oauth2/token&quot;</span>
    <span class="hljs-keyword">end</span>,

    <span class="hljs-symbol">client_id:</span> <span class="hljs-string">&quot;YOUR_PUSHBULLET_CLIENT_ID&quot;</span>,

    <span class="hljs-symbol">client_secret:</span> <span class="hljs-string">&quot;YOUR_PUSHBULLET_CLIENT_SECRET&quot;</span>,

    <span class="hljs-symbol">credentials:</span> lambda <span class="hljs-keyword">do</span> |connection, access_token|
      headers(<span class="hljs-string">&quot;Authorization&quot;</span><span class="hljs-symbol">:</span> <span class="hljs-string">&quot;Bearer <span class="hljs-subst">#{access_token}</span>&quot;</span>)
    <span class="hljs-keyword">end</span>
  }
}
</code></pre>
<p>The Workato connector SDK currently supports the <a href="https://tools.ietf.org/html/rfc6749#section-4.1" target="_blank">Authorization Code Grant</a> variant of the OAuth2 standard.</p>
<p>Required components in OAuth 2.0 type connection:</p>
<ol>
<li>type (use &apos;oauth2&apos;)</li>
<li>authorization_url</li>
<li>token_url</li>
<li>client_id and client_secret</li>
<li>credentials</li>
</ol>
<p>Redirect URI will be appended to the authorization request by the framework, so there is no need to include it. If the application requires that you register the redirect URI beforehand, use:
<a href="https://www.workato.com/oauth/callback" target="_blank">https://www.workato.com/oauth/callback</a></p>
<p>Adjust headers format as required in the credentials section</p>
<p>For example, Pushbullet expects the header to include token in this format:
<code>OAuth2: &lt;access token&gt;</code></p>
<p>So to adjust to suit this requirement, define the credentials portion like so:</p>
<pre><code class="lang-ruby"><span class="hljs-symbol">connection:</span> {

  <span class="hljs-symbol">authorization:</span> {
    <span class="hljs-symbol">type:</span> <span class="hljs-string">&quot;oauth2&quot;</span>,

    <span class="hljs-symbol">authorization_url:</span> lambda <span class="hljs-keyword">do</span>
      <span class="hljs-string">&quot;https://podio.com/oauth/authorize&quot;</span>
    <span class="hljs-keyword">end</span>,

    <span class="hljs-symbol">token_url:</span> lambda <span class="hljs-keyword">do</span>
      <span class="hljs-string">&quot;https://podio.com/oauth/token&quot;</span>
    <span class="hljs-keyword">end</span>,

    <span class="hljs-symbol">client_id:</span> <span class="hljs-string">&quot;YOUR_PODIO_CLIENT_ID&quot;</span>,

    <span class="hljs-symbol">client_secret:</span> <span class="hljs-string">&quot;YOUR_PODIO_CLIENT_SECRET&quot;</span>,

    <span class="hljs-symbol">credentials:</span> lambda <span class="hljs-keyword">do</span> |connection, access_token|
      headers(<span class="hljs-string">&quot;Authorization&quot;</span><span class="hljs-symbol">:</span> <span class="hljs-string">&quot;OAuth2 <span class="hljs-subst">#{access_token}</span>&quot;</span>)
    <span class="hljs-keyword">end</span>
  }
}
</code></pre>
<p>Note:</p>
<ul>
<li>SDK makes a POST request to token endpoint. Will not currently work for APIs expecting a different type of request.</li>
<li>Ensure that your implementation of OAuth 2.0 is compliant with the specifications stated in the RFC document. Else, your custom adapter might not start.<ul>
<li>For example, <a href="https://tools.ietf.org/html/rfc6749#section-5.1" target="_blank">Issuing an Access Token - Successful Response</a> states that Workato will be expecting a response with the following required parameters: <code>access_token</code>, <code>token_type</code> and <code>expires_in</code>. Returning the access token with a key of <code>accessToken</code> in a JSON response will result in an unsuccessful Workato request to your <code>token_url</code>.</li>
<li>Usually this will not be a problem because most OAuth libraries out there will do most of the heavily-lifting for you, such as returning response in the right format etc. It is good to be aware of this!</li>
</ul>
</li>
</ul>
<h3 id="custom-authentication">Custom Authentication</h3>
<h2 id="action">Action</h2>
<h3 id="endpoints">Endpoints</h3>
<p>An action can make one or more requests to various endpoints. Because the framework handles the authentication side of a request, you will not have to worry about that here.</p>
<p>The most important thing is to identify which endpoint will address the purpose of the action. Here we will take a look at Close.io&apos;s Lead object and how to retrieve it via the API.</p>
<p><img src="../../assets/images/closeio-doc.png" alt="close.io get lead object image"></p>
<pre><code class="lang-ruby"><span class="hljs-symbol">actions:</span> {

  <span class="hljs-symbol">get_lead_by_id:</span> {

    <span class="hljs-symbol">input_fields:</span> lambda <span class="hljs-keyword">do</span>
      [
        { <span class="hljs-symbol">name:</span> <span class="hljs-string">&quot;lead_id&quot;</span>, <span class="hljs-symbol">optional:</span> <span class="hljs-keyword">false</span> }
      ]
    <span class="hljs-keyword">end</span>,

    <span class="hljs-symbol">execute:</span> lambda <span class="hljs-keyword">do</span> |connection, input|
      get(<span class="hljs-string">&quot;https://app.close.io/api/v1/lead/<span class="hljs-subst">#{input[<span class="hljs-string">&quot;lead_id&quot;</span>]}</span>/&quot;</span>)
    <span class="hljs-keyword">end</span>,

    <span class="hljs-symbol">output_fields:</span> lambda <span class="hljs-keyword">do</span> |object_definitions|
      object_definitions[<span class="hljs-string">&quot;lead&quot;</span>]
    <span class="hljs-keyword">end</span>
  }
}
</code></pre>
<p>A very simple action looks like this. A get request to the Close.io leads endpoint. In this case, the particular lead&#x2019;s details is appended in the endpoint.</p>
<h3 id="parameter--payload">Parameter / Payload</h3>
<p>Other endpoints require parameters to access certain details, instead of accessing a particular resource route.</p>
<p>A GET request can have parameters added to the request like so:</p>
<pre><code class="lang-ruby"><span class="hljs-symbol">execute:</span> lambda <span class="hljs-keyword">do</span> |connection, input|
  {
    <span class="hljs-string">&apos;companies&apos;</span><span class="hljs-symbol">:</span> get(<span class="hljs-string">&quot;https://<span class="hljs-subst">#{connection[<span class="hljs-string">&apos;deployment&apos;</span>]}</span>.api.accelo.com/api/v0/companies.json&quot;</span>).
                 params(<span class="hljs-symbol">_search:</span> input[<span class="hljs-string">&quot;company_name&quot;</span>])[<span class="hljs-string">&quot;response&quot;</span>]
  }
<span class="hljs-keyword">end</span>
</code></pre>
<p>A POST or PUT or PATCH request can have payloads attached as well. There are 2 ways you can do this.</p>
<p>Add payloads to the method</p>
<pre><code class="lang-ruby"><span class="hljs-symbol">execute:</span> lambda <span class="hljs-keyword">do</span> |connection, input|
  {
    <span class="hljs-string">&quot;users&quot;</span><span class="hljs-symbol">:</span> get(<span class="hljs-string">&quot;https://<span class="hljs-subst">#{connection[<span class="hljs-string">&apos;helpdesk&apos;</span>]}</span>.freshdesk.com/api/users.json&quot;</span>, input)[<span class="hljs-string">&quot;results&quot;</span>]
  }
<span class="hljs-keyword">end</span>
</code></pre>
<p>Add payloads using the payload method</p>
<pre><code class="lang-ruby"><span class="hljs-symbol">execute:</span> lambda <span class="hljs-keyword">do</span> |connection, input|
  post(<span class="hljs-string">&quot;https://api.pushbullet.com/v2/pushes&quot;</span>).
    payload(
      <span class="hljs-symbol">email:</span> input[<span class="hljs-string">&quot;email&quot;</span>],
      <span class="hljs-symbol">title:</span> input[<span class="hljs-string">&quot;title&quot;</span>],
      <span class="hljs-symbol">body:</span> input[<span class="hljs-string">&quot;body&quot;</span>]
    )
<span class="hljs-keyword">end</span>
</code></pre>
<h3 id="methods">Methods</h3>
<p>Not all ruby public instance methods are available. Methods are whitelisted to ensure security. The Workato SDK Framework also exposes some methods to make building SDKs convenient.</p>
<p>Here is a list of methods available:</p>
<p>REST verb methods</p>
<ul>
<li>get(url, input)</li>
<li>post(url, input)</li>
<li>put(url, input)</li>
<li>patch(url, input)</li>
</ul>
<p>Note:</p>
<ul>
<li><code>input</code> is actually a Ruby Hash that will be converted to JSON by the Connector SDK. Also, since <code>input</code> is the last argument of the method, we can optionally omit the curly braces.</li>
</ul>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>each</td>
<td>Basic iterator<br>`[1, 2, 3].each {</td>
<td>i</td>
<td>puts i }`</td>
</tr>
<tr>
<td>group_by</td>
<td><a href="http://apidock.com/rails/Enumerable/group_by" target="_blank">Group arrays into sets</a></td>
</tr>
<tr>
<td>headers</td>
<td>Add headers to a request<br><code>.headers(Authorization: &quot;Bearer HTB674HJK1&quot;)</code></td>
</tr>
<tr>
<td>params</td>
<td>Add parameter to a request<br><code>.params(api_key: &quot;HTB674HJK1&quot;)</code></td>
</tr>
<tr>
<td>payload</td>
<td>Add payload to a request<br><code>.payload(id: &quot;345&quot;)</code></td>
</tr>
<tr>
<td>ignored</td>
<td>Ignore a comma-separate list of fields<br><code>object_definition[&quot;user&quot;].ignored(&quot;id&quot;, &quot;created_at&quot;)</code></td>
</tr>
<tr>
<td>only</td>
<td>White list a comma-separate  of fields<br><code>object_definition[&quot;user&quot;].only(&quot;id&quot;, &quot;name&quot;)</code></td>
</tr>
<tr>
<td>required</td>
<td>Make a comma-separate list of fields required<br><code>object_definition[&quot;user&quot;].required(&quot;id&quot;, &quot;created_at&quot;)</code></td>
</tr>
<tr>
<td>inject</td>
<td><a href="http://apidock.com/ruby/Enumerable/inject" target="_blank">Combine elements in an array using an operation</a></td>
</tr>
<tr>
<td>iso8601</td>
<td>Convert a date/date-time variable to ISO8601 format</td>
</tr>
<tr>
<td>map</td>
<td>Returns a new array after invoking block on each element</td>
</tr>
<tr>
<td>merge</td>
<td>Returns a new hash containing <a href="https://ruby-doc.org/core-2.2.0/Hash.html#method-i-merge" target="_blank">merged contents</a> of another hash</td>
</tr>
<tr>
<td>pluck</td>
<td>Select one or more attributes from an array of objects<br><code>[{&quot;id&quot;: 1, &quot;name&quot;: &quot;David&quot;},{&quot;id&quot;: 2, &quot;name&quot;: &quot;Peter&quot;}].pluck(&quot;id&quot;)</code> returns <code>[1, 2]</code></td>
</tr>
<tr>
<td>rand</td>
<td>Random number between 0 and 1</td>
</tr>
<tr>
<td>select</td>
<td><a href="http://apidock.com/ruby/v1_9_3_392/Array/select" target="_blank">Selectively returns</a> elements for which the block returns true</td>
</tr>
<tr>
<td>reject</td>
<td><a href="http://apidock.com/ruby/v1_9_3_392/Array/reject" target="_blank">Selectively returns</a> elements for which the block returns false (similar but opposite of select)</td>
</tr>
<tr>
<td>sort</td>
<td><a href="http://apidock.com/ruby/Array/sort" target="_blank">Sort function</a> returning new sorted array</td>
</tr>
<tr>
<td>sort_by</td>
<td><a href="http://apidock.com/ruby/v1_9_3_392/Array/sort_by" target="_blank">Sort function</a> returning self</td>
</tr>
<tr>
<td>utc</td>
<td>Convert Time to <a href="http://ruby-doc.org/core-2.2.0/Time.html#method-c-utc" target="_blank">utc</a></td>
</tr>
<tr>
<td>puts</td>
<td>ruby version of console.log/stdout, not the same as put</td>
</tr>
<tr>
<td>while</td>
<td><a href="https://www.tutorialspoint.com/ruby/ruby_loops.htm" target="_blank">while loop statement</a></td>
</tr>
</tbody>
</table>
<p>(This list can and will be expanded constantly, feel free to contact <a href="eeshan@workato.com">me</a> to update/add to this list)</p>
<h2 id="poll-trigger">Poll Trigger</h2>
<p>Records (tickets, leads, items etc.) are called events in a poll. A poll trigger constantly executes a poll block for new events at fixed time intervals. This time interval depends on a user&apos;s subscription (5 or 10 minutes). At the same time, it is also able to support pagination. This is useful to prevent request timeouts when making requests with large response results. A trigger can execute immediate consecutive polls to retrieve events from successive pages.</p>
<p>There are two types of trigger. The classic trigger type is used by default if <code>type</code> is not specified. The other type is called the &quot;paging_desc&quot; trigger, which can be used only for endpoints that provide events sorted in descending order. This trigger type has an auto-paging mechanism that lets you build a simple and efficient trigger. (described in detail below)</p>
<p>A ruby hash is returned in each poll. This hash should contain a few keys. The array of events, or data, should be passed into the <code>events</code> key. At the same time, a cursor is saved in <code>next_page</code>/<code>next_poll</code> (depending on the trigger type). This cursor provides information about where the current poll stopped, and used in the next poll. A classic type trigger has an additional key <code>can_poll_more</code>, which can be defined to conditionally fire immediate polls for multi-page results.</p>
<h3 id="classic-trigger">Classic Trigger</h3>
<p>No need to define any type to use the classic trigger. This type is usually used for APIs that only return responses sorted in ascending order.</p>
<pre><code class="lang-ruby"><span class="hljs-symbol">updated_ticket:</span> {
  <span class="hljs-symbol">input_fields:</span> lambda <span class="hljs-keyword">do</span>
    [
      {
        <span class="hljs-symbol">name:</span> <span class="hljs-string">&apos;since&apos;</span>,
        <span class="hljs-symbol">type:</span> <span class="hljs-symbol">:timestamp</span>,
        <span class="hljs-symbol">optional:</span> <span class="hljs-keyword">false</span>
      }
    ]
  <span class="hljs-keyword">end</span>,

  <span class="hljs-symbol">poll:</span> lambda <span class="hljs-keyword">do</span> |connection, input, last_updated_since|
    page_size = <span class="hljs-number">100</span>
    updated_since = (last_updated_since || input[<span class="hljs-string">&apos;since&apos;</span>]).to_time.utc.iso8601

    tickets = get(<span class="hljs-string">&quot;https://<span class="hljs-subst">#{connection[<span class="hljs-string">&apos;helpdesk&apos;</span>]}</span>.freshdesk.com/api/v2/tickets.json&quot;</span>).
              params(<span class="hljs-symbol">order_by:</span> <span class="hljs-string">&apos;updated_at&apos;</span>,
                     <span class="hljs-symbol">order_type:</span> <span class="hljs-string">&apos;asc&apos;</span>,
                     <span class="hljs-symbol">per_page:</span> page_size,
                     <span class="hljs-symbol">updated_since:</span> updated_since)

    next_updated_since = tickets.last[<span class="hljs-string">&apos;updated_at&apos;</span>] <span class="hljs-keyword">unless</span> tickets.blank?

    {
      <span class="hljs-symbol">events:</span> tickets,
      <span class="hljs-symbol">next_poll:</span> next_updated_since,
      <span class="hljs-symbol">can_poll_more:</span> tickets.length &gt;= page_size
    }
  <span class="hljs-keyword">end</span>,

  <span class="hljs-symbol">dedup:</span> lambda <span class="hljs-keyword">do</span> |ticket|
    ticket[<span class="hljs-string">&apos;id&apos;</span>]
  <span class="hljs-keyword">end</span>,

  <span class="hljs-symbol">output_fields:</span> lambda <span class="hljs-keyword">do</span> |object_definitions|
    object_definitions[<span class="hljs-string">&apos;ticket&apos;</span>]
  <span class="hljs-keyword">end</span>
}
</code></pre>
<h4 id="poll">poll</h4>
<h5 id="arguments">Arguments</h5>
<p>A poll block is given 3 arguments.</p>
<p>The first argument is <code>connection</code>, used to access inputs from connection field values. This is frequently used to access domain or subdomain information from the user.</p>
<p><code>input</code> provides access to trigger input field values from the recipe. Inputs like &quot;created_since&quot; a particular date is usually used in a trigger to allow filtering historic records. In this case, Knack does not provide filtering by record created dates, input is given an empty array.</p>
<p>The last argument, usually given the name <code>last_updated_since</code> or <code>last_created_since</code>, is the cursor &quot;stored&quot; from a previous poll. This is crucial to a good trigger design. It is used to determine where the last poll stopped and where to begin next. As an example, it is usually given the last (latest) &quot;updated&quot;/&quot;created&quot; time. When the trigger is first started, this value is <code>nil</code>.</p>
<h5 id="output">Output</h5>
<pre><code class="lang-ruby"><span class="hljs-symbol">poll:</span> lambda <span class="hljs-keyword">do</span> |connection, input, last_updated_since|
  page_size = <span class="hljs-number">100</span>
  updated_since = (last_updated_since || input[<span class="hljs-string">&apos;since&apos;</span>]).to_time.utc.iso8601

  tickets = get(<span class="hljs-string">&quot;https://<span class="hljs-subst">#{connection[<span class="hljs-string">&apos;helpdesk&apos;</span>]}</span>.freshdesk.com/api/v2/tickets.json&quot;</span>).
            params(<span class="hljs-symbol">order_by:</span> <span class="hljs-string">&apos;updated_at&apos;</span>,
                   <span class="hljs-symbol">order_type:</span> <span class="hljs-string">&apos;asc&apos;</span>,
                   <span class="hljs-symbol">per_page:</span> page_size,
                   <span class="hljs-symbol">updated_since:</span> updated_since)

  next_updated_since = tickets.last[<span class="hljs-string">&apos;updated_at&apos;</span>] <span class="hljs-keyword">unless</span> tickets.blank?

  {
    <span class="hljs-symbol">events:</span> tickets,
    <span class="hljs-symbol">next_poll:</span> next_updated_since,
    <span class="hljs-symbol">can_poll_more:</span> tickets.length &gt;= page_size
  }
<span class="hljs-keyword">end</span>
</code></pre>
<p>In a classic type trigger, the expected output contains <code>events</code>, <code>next_poll</code> and <code>can_poll_more</code>.</p>
<p><code>events</code> expects an array of individual results to be processed through the recipe as individual events.</p>
<p><code>next_poll</code> is a cursor that will be passed on to the successive poll (third argument of <code>poll</code> block.</p>
<p><strong>Important</strong>:
This trigger type does not have automatic-immediate polling. Immediate polling is determined by <code>can_poll_more</code>, which is a boolean value for whether an immediate poll should be made.</p>
<p>Example JSON response:</p>
<pre><code class="lang-ruby">[
  {
    <span class="hljs-string">&quot;id&quot;</span><span class="hljs-symbol">:</span> <span class="hljs-number">1</span>,
    <span class="hljs-string">&quot;updated_at&quot;</span><span class="hljs-symbol">:</span> <span class="hljs-string">&quot;2016-08-13T00:53:44Z&quot;</span>
  },
  {
    <span class="hljs-string">&quot;id&quot;</span><span class="hljs-symbol">:</span> <span class="hljs-number">2</span>,
    <span class="hljs-string">&quot;updated_at&quot;</span><span class="hljs-symbol">:</span> <span class="hljs-string">&quot;2016-09-14T02:25:00Z&quot;</span>
  },
  ...
]
</code></pre>
<p>When a get request receives this JSON response, it looks up the array for the last record (latest record) and passes it as the cursor for the next poll. It also checks the response array size. If it is equal to the size limit, it is likely that there are more records matching this request in consequtive pages. Hence the expression given to <code>can_poll_more</code> evaluates to true and invokes an immediate successive poll. This loop continues until response array size is smaller than page limit.</p>
<p>At the end of the loop. The last (latest) created date is passed as <code>next_poll</code>. This value will be used in the next poll cycle to pick up new records.</p>
<h4 id="dedup">dedup</h4>
<p>Dedup block is used to identify individual events. It is given a single argument &quot;event&quot;, which corresponds to individual elements in the records array passed into &quot;events&quot;.</p>
<p>A typical dedup input is <code>event[&#x2018;id&#x2019;]</code> where the <code>event</code> argument name can be replaced to make the code more readable. This should be used only in classic triggers.</p>
<pre><code class="lang-ruby"><span class="hljs-symbol">dedup:</span> lambda <span class="hljs-keyword">do</span> |ticket|
  ticket[<span class="hljs-string">&quot;id&quot;</span>]
<span class="hljs-keyword">end</span>
</code></pre>
<p>In some instances, a record needs to be proccessed as separate events. A typical scenario is updated records. To do this, append updated timestamp field to the dedup expression like so.</p>
<pre><code class="lang-ruby"><span class="hljs-symbol">dedup:</span> lambda <span class="hljs-keyword">do</span> |ticket|
  ticket[<span class="hljs-string">&quot;id&quot;</span>] + <span class="hljs-string">&quot;@&quot;</span> + ticket[<span class="hljs-string">&quot;`updated_at&quot;</span>]
<span class="hljs-keyword">end</span>
</code></pre>
<p>With this, 2 occurence of a record with the same &quot;ID&quot; but with different &quot;updated_at&quot; values will be recorded as separate events.</p>
<h3 id="descending-trigger">Descending Trigger</h3>
<pre><code class="lang-ruby"><span class="hljs-symbol">new_alert:</span> {
  <span class="hljs-symbol">type:</span> <span class="hljs-symbol">:paging_desc</span>,

  <span class="hljs-symbol">input_fields:</span> lambda <span class="hljs-keyword">do</span>
    [
      {
        <span class="hljs-symbol">name:</span> <span class="hljs-string">&apos;since&apos;</span>,
        <span class="hljs-symbol">type:</span> <span class="hljs-symbol">:timestamp</span>,
        <span class="hljs-symbol">optional:</span> <span class="hljs-keyword">false</span>
      }
    ]
  <span class="hljs-keyword">end</span>,

  <span class="hljs-symbol">poll:</span> lambda <span class="hljs-keyword">do</span> |connection, input, page|
    limit = <span class="hljs-number">100</span>
    page ||= <span class="hljs-number">0</span>
    created_since = (input[<span class="hljs-string">&apos;since&apos;</span>] || Time.now).to_i
    offset = (limit * page)

    response = get(<span class="hljs-string">&quot;https://api.pingdom.com/api/2.0/actions&quot;</span>).
                 params(<span class="hljs-symbol">from:</span> created_since,
                        <span class="hljs-symbol">limit:</span> limit,
                        <span class="hljs-symbol">offset:</span> offset)

    {
      <span class="hljs-symbol">events:</span> response,
      <span class="hljs-symbol">next_page:</span> (response.length &gt;= limit) ? page + <span class="hljs-number">1</span> <span class="hljs-symbol">:</span> <span class="hljs-keyword">nil</span>
    }
  <span class="hljs-keyword">end</span>,

  <span class="hljs-symbol">document_id:</span> lambda <span class="hljs-keyword">do</span> |response|
    response[<span class="hljs-string">&apos;checkid&apos;</span>]
  <span class="hljs-keyword">end</span>,

  <span class="hljs-symbol">sort_by:</span> lambda <span class="hljs-keyword">do</span> |response|
    response[<span class="hljs-string">&apos;time&apos;</span>]
  <span class="hljs-keyword">end</span>,

  <span class="hljs-symbol">output_fields:</span> lambda <span class="hljs-keyword">do</span> |object_definitions|
    object_definitions[<span class="hljs-string">&apos;alert&apos;</span>]
  <span class="hljs-keyword">end</span>
}
</code></pre>
<h4 id="type">type</h4>
<p><code>type: :paging_desc</code> - This type should be used only if results are in descending order. A <code>paging_desc</code> trigger works by assuming a descending order and continuously poll for all unique records. If the API is unable to return records in descending order, ignore this key to use the classic trigger.</p>
<p>A record of all event IDs (defined in <code>document_id</code> ) is recorded for each recipe. Each recipe will &quot;remember&quot; all event IDs that is processed through a trigger. </p>
<p>Based on assumption of order, the trigger can stop the polling cycle once a similar event IDs is observed. This is because further polls will return events &quot;before&quot; and would have already been processed by the trigger. At this point, the trigger stops polling and wait for the new poll cycle for new events. The Workato trigger framework handles deduplication in the background.</p>
<h4 id="poll">poll</h4>
<p>Poll block is where you define how events are obtained. Typically, a GET request is used to retrieve a list of records to be processed as trigger events.</p>
<h5 id="arguments">Arguments</h5>
<p>Descending trigger <code>poll</code>s have the exact same argument structure. <code>connection</code>, <code>input</code> and <code>cursor</code>. The one difference is that the last argument is usually given the name <code>page</code>. In a descending trigger, this argument is usually used to pass the page number instead of record timestamp.</p>
<h5 id="output">Output</h5>
<p>Similar to a classic trigger, the <code>events</code> in output here expects an array of results.</p>
<pre><code class="lang-ruby"><span class="hljs-symbol">poll:</span> lambda <span class="hljs-keyword">do</span> |connection, input, page|
  limit = <span class="hljs-number">100</span>
  page ||= <span class="hljs-number">0</span>
  created_since = (input[<span class="hljs-string">&apos;since&apos;</span>] || Time.now).to_i
  offset = (limit * page)

  response = get(<span class="hljs-string">&quot;https://api.pingdom.com/api/2.0/actions&quot;</span>).
               params(<span class="hljs-symbol">from:</span> created_since,
                      <span class="hljs-symbol">limit:</span> limit,
                      <span class="hljs-symbol">offset:</span> offset)

  {
    <span class="hljs-symbol">events:</span> response,
    <span class="hljs-symbol">next_page:</span> (response.length &gt;= limit) ? page + <span class="hljs-number">1</span> <span class="hljs-symbol">:</span> <span class="hljs-keyword">nil</span>
  }
<span class="hljs-keyword">end</span>
</code></pre>
<p>Instead of <code>next_poll</code>, <code>paging_desc</code> type trigger should be given <code>next_page</code> as cursor. It is used for passing the next page to be polled.</p>
<p>A typical response looks like this.</p>
<pre><code class="lang-ruby">{
  <span class="hljs-string">&quot;current&quot;</span><span class="hljs-symbol">:</span> <span class="hljs-string">&quot;https://api.sample.com/records?order=desc&amp;from=2016-12-09T22%3A57%3A13Z&amp;page=1&quot;</span>,
  <span class="hljs-string">&quot;next&quot;</span><span class="hljs-symbol">:</span> <span class="hljs-string">&quot;https://api.sample.com/records?order=desc&amp;from=2016-12-09T22%3A57%3A13Z&amp;page=2&quot;</span>,
  <span class="hljs-string">&quot;data: [
    {
      &quot;</span>checkid<span class="hljs-string">&quot;: 123,
      &quot;</span>time<span class="hljs-string">&quot;: &quot;</span><span class="hljs-number">2016</span>-<span class="hljs-number">12</span>-<span class="hljs-number">13</span><span class="hljs-symbol">T19:</span>09<span class="hljs-symbol">:</span><span class="hljs-number">01</span>Z<span class="hljs-string">&quot;,
      ...
    },
    {
      &quot;</span>checkid<span class="hljs-string">&quot;: 124,
      &quot;</span>time<span class="hljs-string">&quot;: &quot;</span><span class="hljs-number">2016</span>-<span class="hljs-number">12</span>-<span class="hljs-number">10</span><span class="hljs-symbol">T06:</span><span class="hljs-number">20</span><span class="hljs-symbol">:</span><span class="hljs-number">00</span>Z<span class="hljs-string">&quot;,
      ...
    }
  ]
}
</span></code></pre>
<p><code>response[&quot;data&quot;]</code> is an array of results from the request, which should be passed to <code>events</code>. While it varies between APIs, most will provide some form of pointer to the next page of results. In this example,<code>response[&quot;next&quot;]</code> is an API generated url to be used to retrieve the next page of results matching the request. Hence we can simply pass it to <code>next_page</code>. In the successive poll, this value is passed to the poll block and the next set of records is retrieved.</p>
<p>On the last page, <code>response[&quot;next&quot;]</code> is usually <code>null</code>. In that case, it will cause the successive poll to make the same request as in the first page. When this happens, the trigger framework detects a duplicate event (mechanism for detection explained in detail later) and halts all immediate polls. At this point, the trigger goes to &quot;sleep&quot; until the next poll cycle.</p>
<p>New records being added in the cloud instance will appear in the first page of requests since records are returned in descending order. The trigger picks up new records and processes them until a duplicate event is detected, at which point it &quot;sleeps&quot;. This trigger type depends on a descending order to retrieve only &quot;new&quot; records and stops upon detection of &quot;old&quot; records.</p>
<p>This way, the trigger polls for new records efficiently, without making any repeated requests to retrieve the entire set of records in each poll cycle.</p>
<h3 id="documentid">document_id</h3>
<p>Similar to <code>dedup</code>, <code>paging_desc</code> type triggers uses <code>document_id</code> to identify unique records. Write an expression that can uniquely identify the &quot;ID&quot; of records.</p>
<pre><code class="lang-ruby"><span class="hljs-symbol">document_id:</span> lambda <span class="hljs-keyword">do</span> |event|
  event[<span class="hljs-string">&quot;checkid&quot;</span>]
<span class="hljs-keyword">end</span>
</code></pre>
<p>Unlike classic triggers, there is no need to include timestamp fields into the <code>document_id</code> expression to deduplicate updated records. Descending triggers have an additional block <code>sort_by</code> to process this.</p>
<h3 id="sortby">sort_by</h3>
<p>In addition to <code>document_id</code>, this block is used to define the field that is used to sort records (in descending order). It could be &quot;created_at&quot; or &quot;updated_at&quot; or similar fields.</p>
<pre><code class="lang-ruby"><span class="hljs-symbol">sort_by:</span> lambda <span class="hljs-keyword">do</span> |event|
  eent[<span class="hljs-string">&quot;time&quot;</span>]
<span class="hljs-keyword">end</span>
</code></pre>
<h2 id="webhook-trigger">Webhook Trigger</h2>
<pre><code class="lang-ruby"><span class="hljs-symbol">triggers:</span> {
  <span class="hljs-symbol">new_message:</span> {
    <span class="hljs-symbol">type:</span> <span class="hljs-symbol">:paging_desc</span>,

    <span class="hljs-symbol">input_fields:</span> lambda <span class="hljs-keyword">do</span> |object_definitions|
      object_definitions[<span class="hljs-string">&quot;room&quot;</span>].only(<span class="hljs-string">&quot;id&quot;</span>)
    <span class="hljs-keyword">end</span>,

    <span class="hljs-symbol">webhook_subscribe:</span> lambda <span class="hljs-keyword">do</span> |webhook_url, connection, input, recipe_id|
      post(<span class="hljs-string">&quot;https://api.ciscospark.com/v1/webhooks&quot;</span>,
           <span class="hljs-symbol">name:</span> <span class="hljs-string">&quot;Workato recipe <span class="hljs-subst">#{recipe_id}</span>&quot;</span>,
           <span class="hljs-symbol">targetUrl:</span> webhook_url,
           <span class="hljs-symbol">resource:</span> <span class="hljs-string">&quot;messages&quot;</span>,
           <span class="hljs-symbol">event:</span> <span class="hljs-string">&quot;created&quot;</span>,
           <span class="hljs-symbol">filter:</span> <span class="hljs-string">&quot;roomId=<span class="hljs-subst">#{input[<span class="hljs-string">&apos;id&apos;</span>]}</span>&quot;</span>)
    <span class="hljs-keyword">end</span>,

    <span class="hljs-symbol">webhook_notification:</span> lambda <span class="hljs-keyword">do</span> |input, payload|
      payload[<span class="hljs-string">&quot;data&quot;</span>]
    <span class="hljs-keyword">end</span>,

    <span class="hljs-symbol">webhook_unsubscribe:</span> lambda <span class="hljs-keyword">do</span> |webhook|
      delete(<span class="hljs-string">&quot;https://api.ciscospark.com/v1/webhooks/<span class="hljs-subst">#{webhook[<span class="hljs-string">&apos;id&apos;</span>]}</span>&quot;</span>)
    <span class="hljs-keyword">end</span>,

    <span class="hljs-symbol">dedup:</span> lambda <span class="hljs-keyword">do</span> |message) {
      message[<span class="hljs-string">&quot;id&quot;</span>]
    <span class="hljs-keyword">end</span>,

    <span class="hljs-symbol">output_fields:</span> lambda <span class="hljs-keyword">do</span> |object_definitions|
      object_definitions[<span class="hljs-string">&quot;message&quot;</span>]
    <span class="hljs-keyword">end</span>
  }
}
</code></pre>
<h3 id="webhooksubscribe">webhook_subscribe</h3>
<p>This block is called when the recipe is being started to run necessery API calls to subscribe for further webhook notifications. The endpoint that supposed to be register is passed in <code>webhook_url</code> parameter with other data that could be useful while registering the webhook.</p>
<h3 id="webhookunsubscribe">webhook_unsubscribe</h3>
<p>This block will be called after recipe start to unsubscribe from webhook notifications.</p>
<h3 id="webhooknotification">webhook_notification</h3>
<p>POST/PUT HTTP requests can be used to notify about new trigger events. JSON-encoded payload is expected. This block is called to extract trigger output data from webhook notification payload (<code>payload</code> attribute). Original trigger input is also available in this block (<code>input</code> attribute)</p>
<h2 id="object-definition">Object Definition</h2>
<p>Object Definitions is an important component of the SDK. It allows you to define your schema for objects to be used in the actions and triggers. It allows you to easily define outputs and inputs later on.</p>
<h3 id="static-definition">Static Definition</h3>
<p>The most basic way to build an object definition is to define the field name and type</p>
<pre><code class="lang-ruby"><span class="hljs-symbol">object_definitions:</span> {
  <span class="hljs-symbol">push:</span> {
    <span class="hljs-symbol">fields:</span> lambda <span class="hljs-keyword">do</span>
      [
        { <span class="hljs-symbol">name:</span> <span class="hljs-string">&quot;active&quot;</span>, <span class="hljs-symbol">type:</span> <span class="hljs-symbol">:boolean</span> },
        { <span class="hljs-symbol">name:</span> <span class="hljs-string">&quot;body&quot;</span> },
        { <span class="hljs-symbol">name:</span> <span class="hljs-string">&quot;created&quot;</span> },
        { <span class="hljs-symbol">name:</span> <span class="hljs-string">&quot;direction&quot;</span> },
        { <span class="hljs-symbol">name:</span> <span class="hljs-string">&quot;dismissed&quot;</span>, <span class="hljs-symbol">type:</span> <span class="hljs-symbol">:boolean</span> },
        { <span class="hljs-symbol">name:</span> <span class="hljs-string">&quot;iden&quot;</span> },
        { <span class="hljs-symbol">name:</span> <span class="hljs-string">&quot;modified&quot;</span> },
        { <span class="hljs-symbol">name:</span> <span class="hljs-string">&quot;receiver_email&quot;</span> },
        { <span class="hljs-symbol">name:</span> <span class="hljs-string">&quot;receiver_email_normalized&quot;</span> },
        { <span class="hljs-symbol">name:</span> <span class="hljs-string">&quot;receiver_iden&quot;</span> },
        { <span class="hljs-symbol">name:</span> <span class="hljs-string">&quot;sender_email&quot;</span> },
        { <span class="hljs-symbol">name:</span> <span class="hljs-string">&quot;sender_email_normalized&quot;</span> },
        { <span class="hljs-symbol">name:</span> <span class="hljs-string">&quot;sender_iden&quot;</span> },
        { <span class="hljs-symbol">name:</span> <span class="hljs-string">&quot;sender_name&quot;</span> },
        { <span class="hljs-symbol">name:</span> <span class="hljs-string">&quot;title&quot;</span> },
        { <span class="hljs-symbol">name:</span> <span class="hljs-string">&quot;type&quot;</span> },
      ]
    <span class="hljs-keyword">end</span>
  }
}
</code></pre>
<p>In this example, the object &#x201C;Push&#x201D; is being defined in the fields lambda literal.</p>
<p>Defined as an array of objects. Each field object corresponds to a field in the comment object.</p>
<h3 id="dynamic-definition">Dynamic Definition</h3>
<pre><code class="lang-ruby"><span class="hljs-symbol">object_definitions:</span> {

  <span class="hljs-symbol">form:</span> {
    <span class="hljs-symbol">fields:</span> lambda <span class="hljs-keyword">do</span> |connection|
      get(<span class="hljs-string">&quot;https://api.unbounce.com/pages/<span class="hljs-subst">#{connection[<span class="hljs-string">&apos;page_id&apos;</span>]}</span>/form_fields&quot;</span>)[<span class="hljs-string">&quot;formFields&quot;</span>].
        map { |field| { <span class="hljs-symbol">name:</span> field[<span class="hljs-string">&quot;id&quot;</span>] } }
    <span class="hljs-keyword">end</span>
  }
}
</code></pre>
<h3 id="components">Components</h3>
<table>
<thead>
<tr>
<th>Key</th>
<th>Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>The name of this field. For example <code>id</code> or <code>created_at</code></td>
</tr>
<tr>
<td>type</td>
<td>The data type of this field. Default value is string</td>
</tr>
<tr>
<td>control_type</td>
<td>The input field type to expose in a recipe.</td>
</tr>
<tr>
<td>pick_list</td>
<td>If control type is &apos;select&apos;, this component is  required. See more in <strong>Pick List</strong></td>
</tr>
<tr>
<td>properties</td>
<td>When defining nested objects, use the properties key to define the fields in the object. Remember to define the type as <code>:array</code> or <code>:object</code></td>
</tr>
</tbody>
</table>
<h4 id="type">type</h4>
<p>It should be given the symbol notation (prepend colon)</p>
<p>Supported types:
<code>:string</code>, <code>:integer</code>, <code>:datetime</code>, <code>:date</code>, <code>:boolean</code>, <code>:object</code>, <code>:array</code></p>
<p><code>:object</code>, and <code>:array</code> must be accompanied with properties</p>
<h4 id="controltype">control_type</h4>
<p>Some of the available values are
url: the data field will show a link
select: the data field will be a pick list (make sure to include the pick_list property</p>
<p>Other supported types:
timestamp, checkbox, phone, email, text, number, text-area</p>
<h2 id="test">Test</h2>
<p>Test endpoint to ensure that connection is successful.</p>
<p>Typically, this should be a request that will always be accessible to any user.</p>
<p>Here are some examples:</p>
<pre><code class="lang-ruby"><span class="hljs-symbol">test:</span> lambda <span class="hljs-keyword">do</span> |connection|
  get(<span class="hljs-string">&quot;https://person.clearbit.com/v1/people/email/eeshansim@gmail.com&quot;</span>)
<span class="hljs-keyword">end</span>
</code></pre>
<pre><code class="lang-ruby"><span class="hljs-symbol">test:</span> lambda <span class="hljs-keyword">do</span> |connection|
  get(<span class="hljs-string">&quot;https://app.clicktime.com/api/1.3/session&quot;</span>)
<span class="hljs-keyword">end</span>
</code></pre>
<h2 id="pick-list">Pick List</h2>
<p>A pick list is list of choices predefined for a user to select instead of having to input the actual values.
It is useful when there is a list of accepted values for a field or when the field requires a value that is not visible. For example, a field that requires User ID will require a pick list that displays the User names and pass the corresponding User&apos;s ID to that field.</p>
<h3 id="defining-a-pick-list">Defining a pick list</h3>
<p>There are 2 ways to define a pick list: dynamically or statically.</p>
<p>Static example:</p>
<p>Pick list is defined as a array of selections. Each selection is an array made up of 2 elements.</p>
<p>The first element in the selection array is the value displayed and the second element is the value of that selection.</p>
<pre><code class="lang-ruby"><span class="hljs-symbol">pick_lists:</span> {
  <span class="hljs-symbol">folder:</span> lambda <span class="hljs-keyword">do</span> |connection|
    [
      <span class="hljs-comment"># Display name, value</span>
      [<span class="hljs-string">&quot;Root&quot;</span>,<span class="hljs-string">&quot;111390&quot;</span>],
      [<span class="hljs-string">&quot;Recycle Bin&quot;</span>,<span class="hljs-string">&quot;235611&quot;</span>]
    ]
  <span class="hljs-keyword">end</span>
}
</code></pre>
<p>Dynamic example:</p>
<pre><code class="lang-ruby"><span class="hljs-symbol">pick_lists:</span> {
  <span class="hljs-symbol">folder:</span> lambda <span class="hljs-keyword">do</span> |connection|
    get(<span class="hljs-string">&quot;https://www.wrike.com/api/v3/folders&quot;</span>)[<span class="hljs-string">&quot;data&quot;</span>].
      map { |folder| [folder[<span class="hljs-string">&quot;title&quot;</span>], folder[<span class="hljs-string">&quot;id&quot;</span>]] }
  <span class="hljs-keyword">end</span>
}
</code></pre>
<p>After making a GET requests for all folders available, the pick list is populated with folder <code>id</code>s and displays the corresponding folder <code>title</code></p>
<h3 id="usage">Usage</h3>
<pre><code class="lang-ruby"><span class="hljs-symbol">input_fields:</span> lambda <span class="hljs-keyword">do</span> |object_definitions|
  [
    { <span class="hljs-symbol">name:</span> <span class="hljs-string">&quot;folder_id&quot;</span>, <span class="hljs-symbol">control_type:</span> <span class="hljs-string">&quot;select&quot;</span>, <span class="hljs-symbol">pick_list:</span> <span class="hljs-string">&quot;folder&quot;</span> }
  ]
<span class="hljs-keyword">end</span>
</code></pre>
<h2 id="configuration-fields">Configuration Fields</h2>
<p>Occassionally, input/output fields depend on user input. For example, the fields for an object depends on the chosen object. Here, we introduce <code>config_fields</code>. It is an optional key available in both actions and triggers. It is a special type of input field that can be used to generate other dependent input/output fields. We see this in the merge_document action in Webmerge.</p>
<pre><code class="lang-ruby"><span class="hljs-symbol">action:</span> {
  <span class="hljs-symbol">merge_document:</span> {
    <span class="hljs-symbol">config_fields:</span> [
      <span class="hljs-comment"># this field shows up first in recipe as a picklist of documents to use</span>
      {
        <span class="hljs-symbol">name:</span> <span class="hljs-string">&quot;document_id&quot;</span>,
        <span class="hljs-symbol">label:</span> <span class="hljs-string">&quot;Document&quot;</span>,
        <span class="hljs-symbol">control_type:</span> <span class="hljs-symbol">:select</span>,
        <span class="hljs-symbol">pick_list:</span> <span class="hljs-string">&quot;documents&quot;</span>,
        <span class="hljs-symbol">optional:</span> <span class="hljs-keyword">false</span>
      }
    ],

    <span class="hljs-symbol">input_fields:</span> lambda <span class="hljs-keyword">do</span> |object_definition|
      object_definition[<span class="hljs-string">&quot;document&quot;</span>]
    <span class="hljs-keyword">end</span>,

    <span class="hljs-symbol">execute:</span> lambda <span class="hljs-keyword">do</span> |_connection, input|
      d = input[<span class="hljs-string">&quot;document_id&quot;</span>].split(<span class="hljs-string">&quot;|&quot;</span>)
      post(d.last.to_s, input)
    <span class="hljs-keyword">end</span>,

    <span class="hljs-symbol">output_fields:</span> lambda <span class="hljs-keyword">do</span> |_object_definition|
      [
        {
          <span class="hljs-symbol">name:</span> <span class="hljs-string">&quot;success&quot;</span>
        }
      ]
    <span class="hljs-keyword">end</span>
  }
}
</code></pre>
<p>Here, the fields are different for each document, hence a user first chooses a document (from a pick list of documents available in the instance) which is then used to generate the remaining fields. This part is done by specifying that the &quot;document&quot; object definition is dependent on the value of &quot;document_id&quot; within config_field. Notice that the fields block accepts a second argument <code>config_fields</code>. This argument refers to the field(s) you define in <code>config_fields</code> in each action/trigger.</p>
<pre><code class="lang-ruby"><span class="hljs-symbol">object_definition:</span> {
  <span class="hljs-symbol">document:</span> {
    <span class="hljs-symbol">fields:</span> lambda <span class="hljs-keyword">do</span> |_connection, config_fields|
      <span class="hljs-keyword">return</span> [] <span class="hljs-keyword">if</span> config_fields.blank?
      get(<span class="hljs-string">&quot;https://www.webmerge.me/api/documents/<span class="hljs-subst">#{config_fields[<span class="hljs-string">&quot;document_id&quot;</span>]}</span>/fields&quot;</span>).
        map { |field| field.slice(<span class="hljs-string">&quot;name&quot;</span>) }
    <span class="hljs-keyword">end</span>
  }
}
</code></pre>
<p>While the config_fields is empty, document objects will have no fields (empty array of fields). As soon as config_fields is given a value, a request is made to retrieve the fields present in this document. From a recipe user perspective, the action will appear initially as a single input with a list of documents. After selecting a document, the corresponding set of fields will be generated, to be used in the recipe.</p>
<h1 id="example-adapters">Example Adapters</h1>
<p>Check out the full list of example custom adapters built by developers <a href="https://github.com/workato/connector_sdk/" target="_blank">here</a></p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="sdk-conceptual-model.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page: Conceptual model">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"SDK documentation","level":"1.12.4.2","depth":3,"next":{"title":"Platform API","level":"1.12.5","depth":2,"ref":"","articles":[]},"previous":{"title":"Conceptual model","level":"1.12.4.1","depth":3,"path":"developer/sdk/sdk-conceptual-model.md","ref":"developer/sdk/sdk-conceptual-model.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["edit-link","-sharing","favicon","collapsible-menu"],"pluginsConfig":{"edit-link":{"label":"Edit This Page","base":"https://github.com/workato/docs/edit/master/","multilingual":false},"favicon":{"shortcut":"assets/images/favicon/favicon.ico","bookmark":"assets/images/favicon/favicon.ico","appleTouch":"assets/images/favicon/android-chrome-36x36.png"},"collapsible-menu":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"developer/sdk/sdk-docs.md","mtime":"2017-03-21T00:49:14.000Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2017-03-21T00:50:39.771Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>


    <footer class="w-footer">
      <div class="w-footer__title">Didnât find what you are looking for?</div>
      <div class="w-footer__help-links">
        <a href="//support.workato.com/support/home" class="w-footer__help-link">
          <span class="w-footer__help-link-title">Search our resource library</span>
          <span class="w-footer__help-link-description">View getting started guides, tutorials, training videos, webinars and FAQ</span>
        </a>
        <a href="//support.workato.com/support/discussions" class="w-footer__help-link">
          <span class="w-footer__help-link-title">Ask our community</span>
          <span class="w-footer__help-link-description">View questions and answers from other users and Workato experts.</span>
        </a>
        <a href="//support.workato.com/support/tickets/new" class="w-footer__help-link">
          <span class="w-footer__help-link-title">File a support ticket</span>
          <span class="w-footer__help-link-description">File a support ticket for critical issues that require a higher level of support.</span>
        </a>
      </div>
      <nav class="w-footer__copy">
        <a href="//workato.com/privacy" class="w-footer__copy-item w-footer__copy-item_link">Privacy</a>
        <a href="//workato.com/terms" class="w-footer__copy-item w-footer__copy-item_link">Terms</a>
        <a href="tel:+18444696752" class="w-footer__copy-item w-footer__copy-item_link">(844) 469-6752</a>
        <span class="w-footer__copy-item">Workato 2017</span>
      </nav>
      <div class="w-footer__social">
        <a class="w-footer__social-item" href="mailto:info@workato.com" title="Email">
          <img src="/assets/images/layout/email-icon.svg" alt="Email">
        </a>
        <a class="w-footer__social-item" href="//facebook.com/workato" target="_blank" title="Facebook">
          <img src="/assets/images/layout/facebook-icon.svg" alt="Facebook">
        </a>
        <a class="w-footer__social-item" href="//twitter.com/workato" target="_blank" title="Twitter">
          <img src="/assets/images/layout/twitter-icon.svg" alt="Twitter">
        </a>
        <a class="w-footer__social-item" href="//linkedin.com/company/workato" target="_blank" title="LinkedIn">
          <img src="/assets/images/layout/linkedin-icon.svg" alt="LinkedIn">
        </a>
      </div>
    </footer>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-collapsible-menu/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

